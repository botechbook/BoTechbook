# H3C面试题

H3C面试题

2011年9月29日

10:34

1. OSPF邻接形成过程？

互发HELLO包，形成双向通信

根据接口网络类型选DR/BDR

发第一个DBD，选主从

进行DBD同步

交互LSR、LSU、LSack进行LSA同步

同步结束后进入FULL

2. OSPF中承载完整的链路状态的包？LSU

3. 链路状态协议和距离矢量协议的比较？

(1)路由传递方法不同 （2）收敛速度不同 （3）度量值不同 （4）有环无环

（5）应用环境不同 （6）有无跳数限制 （7）生成路由的算法不同 （8）对设备资源的消耗不同

4. OSPF防环措施？

（1）SFP算法无环 （2）更新信息中携始发者信息，并且为一手信息 （3）多区域时要求非骨干区域，必须连接骨干区域，才能互通路由，防止了始发者信息的丧失，避免了环路。

5. OSPF是纯链路状态的协议吗？

（1）单区域时是纯的链路状态协议，而多区域时，区域间路由使用的是距离矢量算法。

6. OSPF中DR选举的意义？DR选举时的网络类型？DR和其它路由器的关系？

（1）提高LSA同步效率。（2）广播型和NBMA要选DR （3）DR与其它路由器为邻接关系。

7. OSPF的NSSA区域和其它区域的区别？

比普通区域相比：去除了四类五类LSA，增加了七类LSA

和STUB区域相比：他可以单向引入外部路由

8. OSPF的LSA类型，主要由谁生成？

一类 路由器LSA 所有路由器 本区域 描述直连拓扑信息

二类 网络LSA DR 本区域 描述本网段的掩码和邻居

三类 网络汇总LSA ABR 相关区域 区域间的路由信息

四类 ASBR汇总LSA ABR 相关区域 去往ASBR的一条路由信息

五类 外部LSA ASBR 整个AS AS外部的路由信息

七类 NSSA外部LSA ASBR 本NSSA区域 AS外部的路由信息

9. IBGP为什么采用全互联？不采用全互联怎么部署？

（1）解决IBGP水平分割问题 （2）反射器或联盟

10. 路由反射器的反射原则？

（1）客户端的路由反射给所有邻居 （2）非客户端的路由反射给客户端 （3）只发最优路由 （4）两个非客户端路由不能互通 （5）反射不改变路由属性

11. OSPF邻居形成过程？

12. OSPF有几类LSA？

13. OSPF的NSSA区域与其它区域的通信方法？

14. PPP协商过程？

15. OSPF没有形成FULL状态的原因？

（1）HELLO和失效时间不一致 （2）接口网络类型不一致 （3）区域不一致 （4）MA网络中掩码不一致 （5）版本不一致 （6）认证不通过 （7）ROUTER-ID 相同 （8）MA网络中优先级都为0 （9）MTU不一致 （10）特殊区域标记不一样 （11）底层不通 （12）NBMA网络中没有指邻居

16. OSPF在NBMA网络要配些什么？

（1）NBMA网络中没有指邻居

（2）如果是一个非全互联的NBMA环境，还需要手工指DR

（3）考虑到非全互联的NBMA环境的分支节点的连通性，还要手工写静态映射。或者修改接口网络类型为点到多点。

17. OSPF虚链路在什么情况下用到？为什么要用虚链路？

（1）区域不连续或区域0被分割会用到

（2）因为所有区域必须挂接到区域0，当区域0被分割后，两个被分割的区域0路由不能互通。

18. OSPF虚链路的作用？为什么有骨干区域？

（1）骨干区域的设置是为了防止多区域时区域间路由产生环路

19. RIP路由协议环路问题解决机制？

（1）水平分割 （2）最大16跳 （3）路由毒化 （4）毒性逆转 （5）抑制计时器 （6）触发更新

20. OSPF邻居形成过程？

21. PPP协商过程？

（1）检测到载波进入链路建立阶段（2）进行LCP协商 （3）进行认证 （4）NCP（IPCP）协商

22. CHAP认证过程？

（1）主认证方发起挑战，携带主认证方的用户名和随机数

（2）被认证方根据用户名查用户数据库，找到对应密码与随机数进行HASH，发送用户名和HASH值

（3）主认证方根据用户名查用户数据库，找到对应的密码与随机数进行HASH，对比两个HASH值，一致则认证通过，不一致则认证失败。

23. LSA5外部路由可以在ABR上做汇总吗？

（1）可以在NSSA区域的ABR上做汇总，因为NSSA区域的ABR要做七类转五类 （2）当该NSSA区域有两个ABR时只能在ROUTER-ID大的ABR上做汇总才有效。（3）*ABR上直接引入外部路由

1.OSPF有哪些区域?

（1）骨干区域 （2）普通区域 （3）STUB区域 完全STUB区域（4）NSSA区域 完全NSSA区域

2.stub区域特点?nssa区域特点?

STUB 一类二类三类

NSSA 一类二类三类七类 （不自动下发缺省路由）

完全STUB 一类二类 （三类缺省）

完全NSSA 一类二类七类 （三类缺省）

3.OSPF有那几种协议包?以及他们的作用?

（1）HELLO 报文 建立邻居形成2-WAY，保活，选DR/BDR

（2）DBD报文 选举主从，描述LSDB

（3）LSR报文 请求LSA

（4）LSU报文 发送完整的LSA

（5）LSACK报文 确认收到LSU

4.OSPF划区域的好处?

（1）减少LSA的洪泛 （2）减小了LSDB （3）简化了路由计算 （4）提升了路由的可管理性 （5）使路由汇总和特殊区域成为可能

8.CHAP认证过程?

10、OSPF的选路原则；影响OSPF邻居形成的因素及解决方法。

（1）选去目标网络开销最小的 （2）按路径类型

12、OSPF的选路原则；影响OSPF邻居形成的因素及解决方法。

13、OSPF的1类和2类外部路由之间的区别

（1）类型一的开销＝内部开销+外部开销

（2）类型二的开销＝外部开销

（3）类型一的路由优于类型二的路由

15有哪些项目经验，并描述一下在项目过程中出现的问题是怎么解决的,具体的技术有OSPF、VRRP、VLAN tag这三个方面的内容，问的都很深入

17、 OSPF路由协议之中有路由环路吗？怎么去解决路由环路的？怎么教导（非网络行业）用户在遇到OSPF网络中，OSPF路由器不能形成邻居的排查方法。

（1）OSPF自治系统内部路由无环，但外部路由可能有环路

（2）如何解决外部路由的防路，尽量避免双点双向重发布，如果要使用双点双向重发布，就要使用打TAG做过滤来消除环路。

18、 说说BGP路由协议与IGP路由协议的区别？BGP选路的原则是什么？

（1）BGP是AS之间的路由协议，IGP是AS内的路由协议

（2）BGP基于TCP，可以与非直连建邻居

（3）BGP侧重于路由管理，不负责拓扑发现

（4）BGP除每一次以外只作增量更新，无定期更新

（5）BGP侧重于路由控制，IGP侧重于路由互通

选路原则

（1）丢弃下一跳不可达

（2）同步状态下丢度弃未同步的

（3）选权重值大的（CISCO）

（4）选本地优先级高的

（5）本地始发的

（6）路径列表短的

（7）起源属性优的

（8）MED值小的

（9）EBGP优于IBGP (CISCO)

（10）IGP开销的小的

（11）ROUTER-ID小的

H3C

(1)如果此路由的下一跳不可达，忽略此路由

(2)选择本地优先级较大的路由

(3)选择本地路由器始发的路由(本地优先级相同)

(4)选择AS路径较短的路由

(5)依次选择起点类型为IGP,EGP,Incomplete类型的路由

(6)选择MED较小的路由

(7)选择RouterID较小的路由

24、BGP网络中为什么要实行BGP全连接？

26、 OSPF是怎么避免无环？

27、 问题六：PPP的协商过程的状态机？

28、 问在蓝狐有讲那些内容？

29、 三层交换怎么确认是三层交换还是二层交换？

34、OSPF中network的作用，区域2学到区域1路由的过程,OSPF有那些特殊区域？以及区域间路由和区域外部路由的学习的过程？

（1）区域1的路由器通过一类LSA将拓扑信息发给ABR，ABR将区域1的路由信息通过3类LSA发到区域0 ，区域2的ABR从区域0学到区域1的3类LAS并重新生成，发给区域2的路由器

（2）ASBR重发布外部路由进OSPF，以5类LSA在整AS内洪泛，ASBR所在区域的ABR还会生成4类LSA，洪泛到相关区域。内部路由器可以根据收到的4、5类LSA生成外部路由

35、IBGP邻居为什么不相互通告路由？

（1）IBGP的水平分割

（2）基于邻居的水平分割

（3）*路由非最优

36、 你认为客服技术支持是什么概念？你在蓝狐的课程体系中是在什么班级中？

44、OSPF 中有那些LSA？

45、LSA7是如何传播的？

46、讲一下BGP的属性？

过渡和非过渡的 必遵和可选的

1、Origin

2、AS-Path

3、Next hop

4、MED

5、Local-Preference

6、Community

47、BGP属性在MPLS中的应用？选路控制

48、一台三层交换机在收到一个数据包的时候，它是怎么来选者是二层交换还是三层交换？

53、OSPF 中区域1与区域0相连，区域0与区域2相连，问区域1的路由如何传播到区域2的？如果不想区域2中有区域一的路由你有哪些解决方案？

54、讲一下BGP的属性如MED等？

56、 讲一下BGP邻居的学习过程？BGP的路由同步及为什么要关闭路由同步？

（1）从IBGP邻居学到的路由，必须在IGP路由表中有，才能发给EBGP邻居。

（2）虽然路由同步可以避免路由黑洞，但实现同步本身很困难，因为将BGP的路由注入到IGP来实现同步是不可取的。所以为了在非同步的状态实现路由的互通，只有关闭同步。

57、OSPF的邻居的学习过程？在Loading状态的时候需要交互些什么？为什么要选举DR/BDR？

57、 在OSPF中为什么需要骨干区域Area0？

58、 对H3C公司了解吗？你知道哪些H3C的产品？